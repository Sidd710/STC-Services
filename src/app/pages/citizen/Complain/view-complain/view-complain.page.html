<ion-header>
  <ion-toolbar color="primary"> 
 <ion-buttons slot="start">
       <ion-button (click)="goBack()">
         <ion-icon name="arrow-back-outline" slot="icon-only"></ion-icon>
       </ion-button>
     </ion-buttons>
     <ion-title>My Complaints</ion-title>
   </ion-toolbar>
 </ion-header>
      <ion-segment [(ngModel)]="selectedStatus" (ionChange)="filterComplaints()">
        <ion-segment-button *ngFor="let filter of statusFilters" [value]="filter.value">
          {{ filter.label }}
        </ion-segment-button>
      </ion-segment>
    <!-- </ion-buttons> -->
 

<ion-content>
  <ion-grid class="complaint-board">
    <ion-row>
      <ion-col
        *ngFor="let item of filteredComplaints"
        size="12"
        size-sm="6"
        size-md="4"
        size-lg="3"
        size-xl="2"
      >
        <div class="complaint-tile">
          <div class="tile-header">
            <h2>{{ item.pole_no }}</h2>
            <ion-badge [color]="getStatusColor(item.status)">
              {{ getStatusLabel(item.status) }}
            </ion-badge>
          </div>

          <div class="tile-details">
            <p><strong>Status:</strong> {{ item.complaint_status }}</p>
            <p><strong>Type:</strong> {{ item.complaint_type }}</p>
            <p><strong>Area:</strong> {{ item.area }}</p>
            <p><strong>Pincode:</strong> {{ item.pincode }}</p>
            <p *ngIf="item.landmark"><strong>Landmark:</strong> {{ item.landmark }}</p>
          </div>

          <div class="tile-actions" *ngIf="item.status === '1'">
            <ion-button fill="clear" color="primary" (click)="editComplaint(item.id)">
              <ion-icon name="create-outline"></ion-icon>
            </ion-button>
            <ion-button fill="clear" color="danger" (click)="deleteComplaint(item.id)">
              <ion-icon name="trash-outline"></ion-icon>
            </ion-button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div *ngIf="filteredComplaints.length === 0" class="no-data">
    <img src="assets/img/empty-state.svg" alt="No Data" />
    <p>No complaints to show right now.</p>
  </div>
</ion-content>
